The programs run in Matlab 2014b.

--The datasets ColCamSeq, GenSeq, ShSeq are availabled at http://eis.bristol.ac.uk/~mc13306/, and requested by email "massimo.camplani"<massimo.camplani@bristol.ac.uk>
--The dataset Wall is availabled at http://atcproyectos.ugr.es/mvision/
--The BGS algorithms are availabled at https://github.com/andrewssobral/bgslibrary


The images in folder 'result/' are refinement results without post-processing, while the images in folder 'post_result/ are the post-processed results of those in 'result/'.

All the source code are in the .zip file.

Two toolboxes are used in our code. They should be installed and added to the Matlab's path.
1. Piotr's Matlab Toolbox
It's availabel on http://vision.ucsd.edu/~pdollar/toolbox/doc/
Or https://github.com/pdollar/toolbox
2. Structured Edge Detection Toolbox
It's availabel on https://github.com/pdollar/edges

The model "modelBsds.mat" in Structured Edge Detection Toolbox needs to be copy to
\edgeModels\forest\".

rbgsDemo.m ------- is the main program.
ftrExtr.m  ------- is used to extract features in FC and FD.
trainForest.m ---- uses the random forest algorithm provided by Piotr's Matlab Toolbox to train models based on the extracted features.
refineBGS.m ------ uses the trained model to refine the BGS results.
postProcessing.m - post-process the BGS results by morphological operations.
evaluate.m ------- calculates the performance metrics used in the paper.
analysis.m ------- analysises the results by BGS based on color or depth.
drawHist.m ------- draws the histogram for the features extracted.


